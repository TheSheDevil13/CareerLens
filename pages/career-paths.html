<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Paths - Carrier Lens</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/animations.css">
</head>
<body>
    <!-- Navigation (same as main page) -->
    <nav class="navbar navbar-expand-lg navbar-dark glass-nav fixed-top">
        <div class="container">
            <a class="navbar-brand" href="../index.html">
                <div class="brand-logo">
                    <i class="fas fa-binoculars"></i>
                    <span>Carrier<span class="gradient-text">Lens</span></span>
                </div>
            </a>
            <!-- Navigation items -->
        </div>
    </nav>

    <div class="career-paths-page">
        <div class="container py-5">
            <!-- Page Header -->
            <div class="page-header text-center mb-5">
                <h1 class="display-4 gradient-text">Explore Career Paths</h1>
                <p class="lead">Discover detailed roadmaps for different career paths based on your department</p>
            </div>

            <!-- Department Selector -->
            <div class="department-selector mb-5">
                <h3 class="mb-4">Select Your Department</h3>
                <div class="row" id="departmentCards">
                    <!-- Loaded by JavaScript -->
                </div>
            </div>

            <!-- Career Path Details -->
            <div class="career-path-details" id="pathDetails" style="display: none;">
                <div class="path-header mb-4">
                    <button class="btn btn-outline-primary mb-3" id="backToDepartments">
                        <i class="fas fa-arrow-left me-2"></i>Back to Departments
                    </button>
                    <h2 id="pathTitle">Career Path Title</h2>
                    <p id="pathDescription" class="text-muted"></p>
                </div>

                <!-- Roadmap Timeline -->
                <div class="roadmap-section mb-5">
                    <h3 class="mb-4">Learning Roadmap</h3>
                    <div class="timeline" id="roadmapTimeline">
                        <!-- Timeline items loaded by JavaScript -->
                    </div>
                </div>

                <!-- Skills Required -->
                <div class="skills-section mb-5">
                    <h3 class="mb-4">Required Skills</h3>
                    <div class="row" id="skillsGrid">
                        <!-- Skills loaded by JavaScript -->
                    </div>
                </div>

                <!-- Course Recommendations -->
                <div class="courses-section mb-5">
                    <h3 class="mb-4">Recommended Courses</h3>
                    <div class="row" id="coursesGrid">
                        <!-- Courses loaded by JavaScript -->
                    </div>
                </div>

                <!-- Job Opportunities -->
                <div class="jobs-section">
                    <h3 class="mb-4">Job Opportunities</h3>
                    <div class="row" id="jobsGrid">
                        <!-- Jobs loaded by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Comparison Tool -->
            <div class="comparison-tool mt-5">
                <h3 class="mb-4">Compare Career Paths</h3>
                <div class="row">
                    <div class="col-md-6">
                        <select class="form-select mb-3" id="comparePath1">
                            <option>Select first career path</option>
                        </select>
                        <div id="compareDetails1"></div>
                    </div>
                    <div class="col-md-6">
                        <select class="form-select mb-3" id="comparePath2">
                            <option>Select second career path</option>
                        </select>
                        <div id="compareDetails2"></div>
                    </div>
                </div>
                <div class="comparison-chart mt-4">
                    <canvas id="comparisonChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../scripts/dummy-data.js"></script>
    <script>
        // Career Paths functionality
        class CareerPaths {
            constructor() {
                this.departments = window.appData?.departments || [];
                this.selectedDepartment = null;
                this.selectedPath = null;
                
                this.init();
            }
            
            init() {
                this.loadDepartments();
                this.initEventListeners();
            }
            
            loadDepartments() {
                const container = document.getElementById('departmentCards');
                if (!container) return;
                
                container.innerHTML = this.departments.map(dept => `
                    <div class="col-md-4 mb-4">
                        <div class="department-card" onclick="careerPaths.selectDepartment(${dept.id})">
                            <div class="card-body">
                                <i class="${dept.icon} fa-3x mb-3" style="color: ${dept.color}"></i>
                                <h4>${dept.name}</h4>
                                <p class="text-muted">${dept.description || ''}</p>
                                <div class="mt-3">
                                    <span class="badge bg-primary">${dept.careerPaths?.length || 0} paths</span>
                                    <span class="badge bg-success">${dept.demandScore || 'High'} demand</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            selectDepartment(deptId) {
                this.selectedDepartment = this.departments.find(d => d.id === deptId);
                this.showCareerPaths();
            }
            
            showCareerPaths() {
                document.getElementById('departmentCards').style.display = 'none';
                document.getElementById('pathDetails').style.display = 'block';
                
                const pathTitle = document.getElementById('pathTitle');
                const pathDescription = document.getElementById('pathDescription');
                
                pathTitle.textContent = this.selectedDepartment.name;
                pathDescription.textContent = this.selectedDepartment.description || 'Explore career paths for this department';
                
                // Load first career path by default
                if (this.selectedDepartment.careerPaths?.length > 0) {
                    this.selectPath(this.selectedDepartment.careerPaths[0].id);
                }
                
                // Update comparison dropdowns
                this.updateComparisonDropdowns();
            }
            
            selectPath(pathId) {
                const path = this.selectedDepartment.careerPaths.find(p => p.id === pathId);
                this.selectedPath = path;
                
                // Update path details
                document.getElementById('pathTitle').textContent = path.title;
                document.getElementById('pathDescription').textContent = path.description;
                
                // Load roadmap
                this.loadRoadmap(path);
                
                // Load skills
                this.loadSkills(path);
                
                // Load courses
                this.loadCourses(path);
                
                // Load jobs
                this.loadJobs(path);
            }
            
            loadRoadmap(path) {
                const timeline = document.getElementById('roadmapTimeline');
                if (!timeline) return;
                
                const roadmap = path.roadmap || this.generateDefaultRoadmap();
                
                timeline.innerHTML = Object.entries(roadmap).map(([month, tasks]) => `
                    <div class="timeline-item">
                        <div class="timeline-date">${month}</div>
                        <div class="timeline-content">
                            <h5>${tasks[0] || 'Learning Phase'}</h5>
                            <p>${tasks[1] || 'Focus on skill development'}</p>
                        </div>
                    </div>
                `).join('');
            }
            
            loadSkills(path) {
                const container = document.getElementById('skillsGrid');
                if (!container) return;
                
                const skills = path.skills || [
                    { name: 'JavaScript', level: 85, importance: 'High' },
                    { name: 'React', level: 80, importance: 'High' },
                    { name: 'Node.js', level: 75, importance: 'Medium' }
                ];
                
                container.innerHTML = skills.map(skill => `
                    <div class="col-md-4 mb-3">
                        <div class="skill-card">
                            <div class="skill-header">
                                <h5>${skill.name}</h5>
                                <span class="badge bg-${skill.importance === 'High' ? 'danger' : skill.importance === 'Medium' ? 'warning' : 'info'}">
                                    ${skill.importance}
                                </span>
                            </div>
                            <div class="skill-progress">
                                <div class="progress">
                                    <div class="progress-bar" style="width: ${skill.level}%">${skill.level}%</div>
                                </div>
                            </div>
                            <div class="skill-resources">
                                <small>Resources: Online courses, documentation, projects</small>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            loadCourses(path) {
                const container = document.getElementById('coursesGrid');
                if (!container) return;
                
                const courses = path.courses || [
                    { name: 'Complete Web Developer Bootcamp', platform: 'Udemy', duration: '60h', rating: 4.7 },
                    { name: 'React Fundamentals', platform: 'Coursera', duration: '40h', rating: 4.6 }
                ];
                
                container.innerHTML = courses.map(course => `
                    <div class="col-md-6 mb-4">
                        <div class="course-card">
                            <div class="course-header">
                                <h5>${course.name}</h5>
                                <span class="badge bg-primary">${course.platform}</span>
                            </div>
                            <div class="course-details">
                                <p><i class="fas fa-clock"></i> ${course.duration}</p>
                                <p><i class="fas fa-star"></i> ${course.rating}/5</p>
                            </div>
                            <button class="btn btn-sm btn-outline-primary">View Course</button>
                        </div>
                    </div>
                `).join('');
            }
            
            loadJobs(path) {
                const container = document.getElementById('jobsGrid');
                if (!container) return;
                
                const jobs = [
                    { title: 'Junior Developer', company: 'Tech Corp', salary: '$65k-$80k', location: 'Remote' },
                    { title: 'Frontend Engineer', company: 'Startup XYZ', salary: '$75k-$90k', location: 'NYC' }
                ];
                
                container.innerHTML = jobs.map(job => `
                    <div class="col-md-6 mb-4">
                        <div class="job-card">
                            <div class="job-header">
                                <h5>${job.title}</h5>
                                <span class="company">${job.company}</span>
                            </div>
                            <div class="job-details">
                                <p><i class="fas fa-dollar-sign"></i> ${job.salary}</p>
                                <p><i class="fas fa-map-marker-alt"></i> ${job.location}</p>
                            </div>
                            <button class="btn btn-sm btn-gradient">Apply Now</button>
                        </div>
                    </div>
                `).join('');
            }
            
            updateComparisonDropdowns() {
                const dropdown1 = document.getElementById('comparePath1');
                const dropdown2 = document.getElementById('comparePath2');
                
                // Clear existing options
                dropdown1.innerHTML = '<option>Select first career path</option>';
                dropdown2.innerHTML = '<option>Select second career path</option>';
                
                // Add options from selected department
                this.selectedDepartment.careerPaths.forEach(path => {
                    const option1 = document.createElement('option');
                    option1.value = path.id;
                    option1.textContent = path.title;
                    dropdown1.appendChild(option1.cloneNode(true));
                    dropdown2.appendChild(option1);
                });
                
                // Add event listeners
                dropdown1.addEventListener('change', (e) => this.updateComparison(e.target.value, 'compareDetails1'));
                dropdown2.addEventListener('change', (e) => this.updateComparison(e.target.value, 'compareDetails2'));
            }
            
            updateComparison(pathId, containerId) {
                const path = this.selectedDepartment.careerPaths.find(p => p.id === pathId);
                const container = document.getElementById(containerId);
                
                if (path && container) {
                    container.innerHTML = `
                        <div class="comparison-card">
                            <h5>${path.title}</h5>
                            <p>${path.description}</p>
                            <div class="comparison-stats">
                                <p><strong>Difficulty:</strong> ${path.difficulty || 'Intermediate'}</p>
                                <p><strong>Time to Hire:</strong> ${path.timeToHire || '3-6 months'}</p>
                                <p><strong>Salary Range:</strong> ${path.salaryRange?.entry || '$60k'} - ${path.salaryRange?.senior || '$120k'}</p>
                            </div>
                        </div>
                    `;
                }
            }
            
            generateDefaultRoadmap() {
                return {
                    'Month 1-3': ['Foundation Building', 'Learn core concepts and basic skills'],
                    'Month 4-6': ['Skill Development', 'Build projects and practice regularly'],
                    'Month 7-9': ['Portfolio Building', 'Create impressive projects for your portfolio'],
                    'Month 10-12': ['Job Preparation', 'Prepare resume, practice interviews, apply for jobs']
                };
            }
            
            initEventListeners() {
                // Back button
                document.getElementById('backToDepartments')?.addEventListener('click', () => {
                    document.getElementById('departmentCards').style.display = 'flex';
                    document.getElementById('pathDetails').style.display = 'none';
                });
            }
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            window.careerPaths = new CareerPaths();
        });
    </script>
</body>
</html>